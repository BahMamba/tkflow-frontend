<div class="min-h-screen flex flex-col bg-gray-50">
  <!-- Topbar -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center space-x-2">
        <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-10 0h3" />
        </svg>
        <h1 class="text-xl font-semibold text-gray-900">TkFlow</h1>
      </div>

      <!-- Desktop Navbar -->
      <nav class="hidden md:flex space-x-8 text-sm font-medium text-gray-600">
        <a routerLink="/tasks" routerLinkActive="text-indigo-600 font-semibold" [routerLinkActiveOptions]="{exact: true}" class="hover:text-indigo-600 transition">Tâches</a>
        <a routerLink="/stats" routerLinkActive="text-indigo-600 font-semibold" [routerLinkActiveOptions]="{exact: true}" class="hover:text-indigo-600 transition">Statistiques</a>
      </nav>

      <!-- User Info and Logout -->
      <div class="flex items-center space-x-4">
        <span *ngIf="userEmail" class="text-sm text-gray-600 hidden sm:block">{{ userEmail }}</span>
        <button (click)="logout()" class="text-gray-600 hover:text-indigo-600 transition" title="Déconnexion" aria-label="Déconnexion">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-6 0V5a3 3 0 016 0v1" />
          </svg>
        </button>
        <!-- Mobile Hamburger -->
        <button class="md:hidden text-gray-600 hover:text-indigo-600 transition" (click)="toggleMobileMenu()" aria-label="Menu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" *ngIf="!mobileMenuOpen" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" *ngIf="mobileMenuOpen" />
          </svg>
        </button>
      </div>
    </div>
    <!-- Mobile Menu -->
    <div *ngIf="mobileMenuOpen" class="md:hidden bg-white shadow-md">
      <nav class="flex flex-col space-y-4 p-4 text-sm font-medium text-gray-600">
        <a routerLink="/tasks" routerLinkActive="text-indigo-600 font-semibold" [routerLinkActiveOptions]="{exact: true}" class="hover:text-indigo-600 transition" (click)="toggleMobileMenu()">Tâches</a>
        <a routerLink="/stats" routerLinkActive="text-indigo-600 font-semibold" [routerLinkActiveOptions]="{exact: true}" class="hover:text-indigo-600 transition" (click)="toggleMobileMenu()">Statistiques</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow min-h-0 py-4 px-4 sm:px-6 lg:px-8 overflow-y-auto">
    <div class="max-w-6xl mx-auto">
      <router-outlet></router-outlet>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-white shadow-md py-4">
    <div class="max-w-6xl mx-auto text-center text-sm text-gray-600">
      © {{ currentYear }} <span class="font-semibold text-indigo-600">TkFlow</span> — Tous droits réservés.
    </div>
  </footer>
</div>